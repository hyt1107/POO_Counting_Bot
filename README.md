# POO_Counting_Bot

## 💩 便便次數統計機器人 - 使用手冊

### 核心功能

機器人會潛伏在群組中，默默統計大家每日的解放次數，並在需要時提供有趣的排行榜。

### (一) 事前準備

要讓機器人開始統計，必須先在群組中進行「綁定」。

1. 將機器人邀請加入您想統計的 LINE 群組。
2. 在群組中傳送一次綁定指令：
    
    `#bind`
    
    機器人會回覆「✅ 已綁定；本群開始紀錄關鍵字。」，之後便會開始自動計數。
    

### (二) 指令列表

可以透過以下指令，隨時查詢統計數據。

| 指令 | 說明 |
| --- | --- |
| `#bind` | **綁定群組**。讓機器人開始在此群組進行統計。 |
| `#unbind` | **解除綁定**。讓機器人停止在此群組統計，舊資料會保留。 |
| `#便便?` <br> `#poop?` | **查詢指令說明**。機器人會列出所有可用的查詢指令。 |
| `#便便 7d` | 查詢**過去 7 天**的統計數據。(數字可自訂，例如 `3d`, `14d`) |
| `#便便 week` | 查詢**本週** (從週一到現在) 的統計數據。 |
| `#便便 month` | 查詢**本月** (從 1 號到現在) 的統計數據。 |
| `#便便 YYYY-MM-DD YYYY-MM-DD` | 查詢**指定日期區間**的統計數據。<br>範例：`#便便 2025-01-01 2025-01-31` |

### (三) 自動功能

除了手動查詢，機器人還有兩個自動化功能：

1. **關鍵字自動計數**
    - **觸發方式:** 只要在已綁定的群組中，訊息內容包含以下任一關鍵字，就會被自動計入次數。
    - **關鍵字:** `💩`、`便便`、`大便`、`poop` (不分大小寫)
    - **計數規則:** 一則訊息內有多個關鍵字，會被累加計算。
2. **週六自動週報**
    - **觸發時間:** 每週六晚上 9 點 (21:00)。
    - **觸發內容:** 機器人會自動計算過去 7 天的數據，並發送一份週報到所有已綁定的群組中，格式與手動查詢的報表相同。

### (四) 注意事項

- 本機器人只會在群組中運作，無法在一對一私聊中使用。
- 所有統計數據都儲存在自己的 Google Sheet 中，絕對私密。
- 報表只會顯示前 10 名的「解放王」。
